<div id="estado-carros"></div>

<script>
  async function cargarDesdeProxy() {
    try {
      const respuesta = await fetch("https://8vacbs.github.io/octavaCBS/proxy_estado_icbs.html");
      const html = await respuesta.text();
      const parser = new DOMParser();
      const doc = parser.parseFromString(html, "text/html");
      const bloque = doc.querySelector("#contenedor");

      if (bloque) {
        document.getElementById("estado-carros").innerHTML = bloque.innerHTML;
      } else {
        throw new Error("No se encontró el contenido del estado.");
      }
    } catch (error) {
      document.getElementById("estado-carros").innerHTML = "<p style='color:red;'>⚠️ No se pudo cargar el estado de las máquinas.</p>";
      console.error(error);
    }
  }

  cargarDesdeProxy();
</script>
